printf "Register/Login: " ; read -k 1 operation ;echo;if [ "$operation" = "r" ];then; printf "Please enter first username: " ; read username ; printf "Please enter first password: " ; read -s password ; password=$(md5 -q -s "$password"); output="$username"'\n'"$password" ;if [ ! -f "saved" ];then echo "$output" > saved;else;greped=$(cat saved | grep -w -o -n "$username" | sed "s/:${username}//");if [ "$greped" = "" ]; then output=$(cat saved);printf "$output\n$username\n$password" > saved;else;greped=$((greped+1)); echo "$(sed "${greped}s/.*/$password/" saved)" > saved ;fi;fi ; else; printf "Please enter username: " ; read username ;printf "Please enter password: " ; read -s password ; password=$(md5 -q -s "$password");greped=$(cat saved | grep -w -o -n "$username" | sed "s/:${username}//");if [ ! "$greped" = "" ]; then;greped=$(( $greped+1 )); if [ "$password" = $(awk "NR==${greped}" saved) ]; then printf "\nLogin succesful\n";else printf "\nIncorrect password\n";fi; else printf "\nIncorrect User\n"; fi ; fi ;
